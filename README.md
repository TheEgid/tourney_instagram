# Ищем победителя конкурса в инстаграм

Проект предназначен для автоматизированного определения чемпиона и списка финалистов конкурса в инстаграм под выбранным постом.
Программа выводит в терминал и проверяет тех пользователей инстаграм, кто подписан на аккаунт организатора конкурса, 
поставил лайк под выбранным постом конкурса и отметил друга в комментариях этого поста. Существует режим комментариев от неповторяющихся аккаутов.

### Как установить

Скачиваем файлы в папку **tourney_instagram**. В этой же папке создаем .env файл. 
Ваш .env должен содержать строки:

```
LOGIN_INST=ваш_инстаграм_логин
PASSWORD_INST=ваш_инстаграм_пароль
```

Python3 должен быть уже установлен. 
Затем используйте `pip` для установки зависимостей:

```
pip install -r requirements.txt
```
### Использование

Используем консольный ввод. Аргументом передаем полную ссылку на выбранный пост организатора конкурса. 

```
python3 main.py https://www.instagram.com/p/BsisIqxBosz/
```

Программа выводит в консоль лог своей работы. Пример лога -

```
2019-01-18 22:54:27,562 - INFO - Instabot Started
2019-01-18 22:54:32,986 - ERROR - Request returns 404 error!
2019-01-18 22:55:13,115 - INFO - Bot stopped. Worked: 22:58:05.851198
```
После этого сообщения список id инстаграмов финалистов конкурса выведен на экран.
Последней строкой выведено название аккаунта чемпиона (победителя конкурса).
```
2019-01-18 22:55:13,115 - INFO - Total requests: 1373
```

### Тестовый режим

В работе программы для ускорения используется временный файл data.pickle.
По умолчанию он очищается. 
Если требуется протестировать программу для ускорения работы с одинаковыми данными,
то первым аргументом передаем полную ссылку на выбранный пост организатора конкурса,
а дополнительным вторым аргументом после пробела передаем значение _test_.

```
python3 main.py https://www.instagram.com/p/BsisIqxBosz/ test
```

### Режим комментариев от неповторяющихся аккаутов
 
По умолчанию стоит режим для случаев когда один аккаунт вправе оставить несколько комментариев -
шансы для таких аккаунтов увеличиваются.
В целях уравнять шансы с теми, кто оставил лишь один комментарий, 
дополнительным аргументом после пробела передаем значение _uniq_.

```
python3 main.py https://www.instagram.com/p/BsisIqxBosz/ uniq
```
```
python3 main.py https://www.instagram.com/p/BsisIqxBosz/ test uniq
```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
